{% extends '::backend.html.twig' %}

{% block id 'proyecto_edit' %}
{% block title %}Modificar el proyecto{% endblock %}

{% block content %}

{# FIXME #}
{% 
  set
  sec_func, prod_pry, programa, act_ai_obra, funcion, division_func, grupo_func, meta, finalidad, nombre
  = '', '', '', '', '', '', '', '', '', ''
%}
{% for c, campo in entity.campos %}
  {% if campo.campo == 'sec_func' %}
    {% set sec_func = campo.valor %}
  {% elseif campo.campo == 'prod_pry' %}
    {% set prod_pry = campo.valor %}
  {% elseif campo.campo == 'programa' %}
    {% set programa = campo.valor %}
  {% elseif campo.campo == 'act_ai_obra' %}
    {% set act_ai_obra = campo.valor %}
  {% elseif campo.campo == 'funcion' %}
    {% set funcion = campo.valor %}
  {% elseif campo.campo == 'division_func' %}
    {% set division_func = campo.valor %}
  {% elseif campo.campo == 'grupo_func' %}
    {% set grupo_func = campo.valor %}
  {% elseif campo.campo == 'meta' %}
    {% set meta = campo.valor %}
  {% elseif campo.campo == 'finalidad' %}
    {% set finalidad = campo.valor %}
  {% elseif campo.campo == 'nombre' %}
    {% set nombre = campo.valor %}
  {% endif %}
{% endfor %}
{# /FIXME #}

{{ form_errors(edit_form) }}
<form action="{{ path('backend_proyecto_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>
  <div class="input_wrapper">
    {{ form_label(edit_form.anio, 'Año') }}
    {{ form_widget(edit_form.anio, {attr : { 'class' : 'choices' }}) }}
    {{ form_label(edit_form.fuente, 'Fuentes de financiamiento (puedes escoger más de una fuente)') }}<br />
    {{ form_widget(edit_form.fuente) }}
  </div>
    <div class="input_wrapper">
        
    {{ form_label(edit_form.sec_func, 'Sec_func') }}
    {{ form_widget(edit_form.sec_func, { 
      'attr' : {
        'class' : 'tiny',
        'value' : sec_func
      }})
    }}
    
    {{ form_label(edit_form.programa) }}
    {{ form_widget(edit_form.programa, { 
      'attr' : {
        'class' : 'tiny',
        'value' : programa
      }})
    }}
    
    {{ form_label(edit_form.prod_pry, 'Prod_pry') }}
    {{ form_widget(edit_form.prod_pry, { 
      'attr' : {
        'class' : 'tiny',
        'value' : prod_pry
      }})
    }}
    
    {{ form_label(edit_form.act_ai_obra, 'Act_ai_obra') }}
    {{ form_widget(edit_form.act_ai_obra, { 
      'attr' : {
        'class' : 'tiny',
        'value' : act_ai_obra
      }})
    }}
    
    {{ form_label(edit_form.funcion, 'Función') }}
    {{ form_widget(edit_form.funcion, { 
      'attr' : {
        'class' : 'tiny',
        'value' : funcion
      }})
    }}
    
    {{ form_label(edit_form.division_func, 'Division_func') }}
    {{ form_widget(edit_form.division_func, { 
      'attr' : {
        'class' : 'tiny',
        'value' : division_func
      }})
    }}
    
    {{ form_label(edit_form.grupo_func, 'Grupo_func') }}
    {{ form_widget(edit_form.grupo_func, { 
      'attr' : {
        'class' : 'tiny',
        'value' : grupo_func
      }})
    }}
    
    {{ form_label(edit_form.meta) }}
    {{ form_widget(edit_form.meta, { 
      'attr' : {
        'class' : 'tiny',
        'value' : meta
      }})
    }}
    
    {{ form_label(edit_form.finalidad) }}
    {{ form_widget(edit_form.finalidad, { 
      'attr' : {
        'class' : 'tiny',
        'value' : finalidad
      }})
    }}
    
    {{ form_label(edit_form.nombre) }}
    {{ form_widget(edit_form.nombre, { 
      'attr' : {
        'class' : 'big',
        'value' : nombre
      }})
    }}
    </div>
    <p>
        <button class="button_primary button continue" type="submit">Guardar cambios</button>
    </p>
    {{ form_rest(edit_form) }}
</form>
{% endblock %}
{% block button_area %}
<a href="{{ path('backend_proyecto') }}" class="button"><div class="icon back"></div>Volver al listado</a>
{% endblock %}
